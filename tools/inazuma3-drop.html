<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>イナズマ3 アイテムドロップ乱数調整ツール</title>
<script type="text/javascript">
var PRACTICE_GAME_DATA = {
	"火来校長のエクストラ対戦ルート - 中": [
		{name: "女子選抜チーム", drop_items: ["セキュリティシューズ", "てっぺきのグローブ", "守りのペンダント銅"], drop_odds: [100, 50, 10], exp: 63, nekketu: 330, yuujou: 20},
		{name: "ネオジャパン", drop_items: ["ネオジャパンスパイク", "ネオジャパングローブ", "戦士たちのほこり"], drop_odds: [30, 20, 30], exp: 115, nekketu: 360, yuujou: 35},
		{name: "ネオジャパン改", drop_items: ["ネオジャパンスパイク", "ネオジャパングローブ", "守りのペンダント銀"], drop_odds: [30, 20, 8], exp: 210, nekketu: 390, yuujou: 45}
	],
	"火来校長のエクストラ対戦ルート - 上": [
		{name: "ビッグウェイブス", drop_items: ["大津波のスパイク", "大津波のグローブ", "力のペンダント銅"], drop_odds: [30, 20, 10], exp: 210, nekketu: 390, yuujou: 45},
		{name: "デザートライオン", drop_items: ["Ｄライオンシューズ", "Ｄライオングローブ", "守りのペンダント銅"], drop_odds: [30, 20, 15], exp: 231, nekketu: 485, yuujou: 50},
		{name: "ファイアードラゴン", drop_items: ["火竜のスパイク", "火竜のグローブ", "アジア予選の思い出"], drop_odds: [30, 20, 30], exp: 262, nekketu: 485, yuujou: 60},
		{name: "アジア代表", drop_items: ["守りのペンダント銀", "力のペンダント銀", "ゼウスチケット"], drop_odds: [10, 10, 30], exp: 315, nekketu: 560, yuujou: 55}
	],
	"火来校長のエクストラ対戦ルート - 下": [
		{name: "ナイツオブクィーン", drop_items: ["ナイツスパイク", "ナイツグローブ", "イケイケ！"], drop_odds: [25, 20, 5], exp: 399, nekketu: 900, yuujou: 85},
		{name: "ジ・エンパイア", drop_items: ["エンパイアウェア", "エンパイアシューズ", "エンパイアグローブ"], drop_odds: [10, 25, 20], exp: 420, nekketu: 970, yuujou: 90},
		{name: "ユニコーン", drop_items: ["ユニコーンスパイク", "ユニコーングローブ", "古びたピンバッチ"], drop_odds: [25, 20, 5], exp: 441, nekketu: 970, yuujou: 90},
		{name: "オルフェウス", drop_items: ["力のペンダント銀", "オルフェウスシューズ", "オルフェウスグローブ"], drop_odds: [10, 25, 20], exp: 462, nekketu: 970, yuujou: 90},
		{name: "ザ・キングダム", drop_items: ["キングダムスパイク", "キングダムグローブ", "シュートプラス"], drop_odds: [25, 20, 3], exp: 483, nekketu: 970, yuujou: 100},
		{name: "リトルギガント", drop_items: ["Ｌギガントウェア", "コトアールシューズ", "コトアールグローブ"], drop_odds: [10, 20, 15], exp: 504, nekketu: 970, yuujou: 100},
		{name: "チーム・ガルシルド", drop_items: ["やぼうのスパイク", "やぼうのグローブ", "スピードプラス"], drop_odds: [30, 20, 3], exp: 525, nekketu: 970, yuujou: 100}
	],
	"エキシビション対戦ルート - 上": [
		{name: "御影専農", drop_items: ["御影ウェア", "御影専農スパイク", "御影専農グローブ"], drop_odds: [20, 60, 40], exp: 42, nekketu: 220, yuujou: 20},
		{name: "秋葉名戸", drop_items: ["秋葉ウェア", "秋葉名戸スパイク", "秋葉名戸グラブ"], drop_odds: [20, 60, 40], exp: 77, nekketu: 320, yuujou: 30},
		{name: "尾刈斗", drop_items: ["尾刈斗ウェア", "のろいのスパイク", "のろいのグローブ"], drop_odds: [20, 60, 40], exp: 119, nekketu: 390, yuujou: 40},
		{name: "傘美野", drop_items: ["傘美野ウェア", "傘美野スパイク", "傘美野グローブ"], drop_odds: [30, 60, 40], exp: 140, nekketu: 390, yuujou: 45},
		{name: "野生", drop_items: ["野生中ウェア", "ワイルドスパイク", "ワイルドグラブ"], drop_odds: [20, 60, 40], exp: 196, nekketu: 540, yuujou: 55},
		{name: "帝国", drop_items: ["帝国ウェア", "帝国スパイク", "帝国グローブ"], drop_odds: [15, 45, 40], exp: 245, nekketu: 660, yuujou: 70}
	],
	"エキシビション対戦ルート - 下": [
		{name: "千羽山", drop_items: ["千羽山ウェア", "千羽山スパイク", "千羽山グローブ"], drop_odds: [20, 45, 40], exp: 49, nekketu: 390, yuujou: 30},
		{name: "白恋", drop_items: ["白恋ウェア", "せつげんのスパイク", "きたぐにのグローブ"], drop_odds: [15, 50, 35], exp: 70, nekketu: 300, yuujou: 30},
		{name: "戦国伊賀島", drop_items: ["戦国ウェア", "ニンジャスパイク", "ニンジャグローブ"], drop_odds: [20, 45, 40], exp: 112, nekketu: 270, yuujou: 35},
		{name: "大海原中", drop_items: ["大海原中ウェア", "マリンスパイク", "リゾートハンド"], drop_odds: [15, 45, 35], exp: 168, nekketu: 485, yuujou: 50},
		{name: "漫遊寺", drop_items: ["漫遊寺ウェア", "たんれんスパイク", "クンフーグローブ"], drop_odds: [15, 50, 35], exp: 196, nekketu: 540, yuujou: 55},
		{name: "陽花戸", drop_items: ["陽花戸ウェア", "ゆうぐれシューズ", "サンセットグローブ"], drop_odds: [15, 45, 35], exp: 252, nekketu: 660, yuujou: 80},
		{name: "木戸川", drop_items: ["木戸川ウェア", "木戸川スパイク", "木戸川グローブ"], drop_odds: [15, 45, 40], exp: 280, nekketu: 900, yuujou: 90}
	],
	"ナゾのエクストラ対戦ルート - 上": [
		{name: "チームＫ", drop_items: ["ふくしゅうのスパイク", "ふくしゅうのグローブ", "みんなイケイケ！"], drop_odds: [30, 20, 1], exp: 231, nekketu: 485, yuujou: 50},
		{name: "真・帝国学園", drop_items: ["真・帝国学園ウェア", "しっこくのスパイク", "つわもののグローブ"], drop_odds: [15, 50, 35], exp: 196, nekketu: 540, yuujou: 55},
		{name: "世宇子", drop_items: ["世宇子ウェア", "ディバインスパイク", "ディバイングローブ"], drop_odds: [10, 45, 40], exp: 252, nekketu: 760, yuujou: 80},
		{name: "ウラゼウス", drop_items: ["世宇子ウェア", "守りのペンダント銀", "力のペンダント銀"], drop_odds: [15, 10, 10], exp: 420, nekketu: 970, yuujou: 90}
	],
	"ナゾのエクストラ対戦ルート - 下": [
		{name: "ジェミニストーム", drop_items: ["力のペンダント銅", "ほしくずのシューズ", "ミクログローブ"], drop_odds: [20, 50, 35], exp: 140, nekketu: 390, yuujou: 50},
		{name: "イプシロン", drop_items: ["守りのペンダント銅", "わくせいのシューズ", "マクログローブ"], drop_odds: [20, 50, 35], exp: 175, nekketu: 485, yuujou: 60},
		{name: "イプシロン改", drop_items: ["力のペンダント銀", "わくせいのシューズ", "マクログローブ"], drop_odds: [10, 50, 35], exp: 210, nekketu: 670, yuujou: 70},
		{name: "ザ・ジェネシス", drop_items: ["守りのペンダント銀", "うちゅうのシューズ", "ビッグバンハンド"], drop_odds: [10, 45, 35], exp: 245, nekketu: 600, yuujou: 80},
		{name: "プロミネンス", drop_items: ["力のペンダント銀", "しゃくねつスパイク", "コロナハンド"], drop_odds: [10, 45, 35], exp: 332, nekketu: 900, yuujou: 85},
		{name: "ダイヤモンドダスト", drop_items: ["守りのペンダント銀", "ひょうけつスパイク", "オーロラハンド"], drop_odds: [10, 45, 35], exp: 332, nekketu: 900, yuujou: 85},
		{name: "カオス", drop_items: ["プロミネンスウェア", "Ｄ・ダストウェア", "こんとんのスパイク"], drop_odds: [5, 5, 25], exp: 441, nekketu: 970, yuujou: 100}
	],
	"ダイスケの超次元トーナメント - 上": [
		{name: "アジア選抜", drop_items: ["ごくじょうのおでん", "力のペンダント金", "シュートプラス"], drop_odds: [40, 3, 3], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "ブロッケンボーグ", drop_items: ["ブロッケンウェア", "ふくつのスパイク", "ふくつのグローブ"], drop_odds: [15, 30, 20], exp: 301, nekketu: 1250, yuujou: 100},
		{name: "ヨーロッパ選抜", drop_items: ["マタドールフェイント", "ガンショット", "スニーキングレイド"], drop_odds: [25, 25, 25], exp: 322, nekketu: 1250, yuujou: 100},
		{name: "グループＡ選抜", drop_items: ["クロスファイア", "いかりのてっつい", "セツヤク！"], drop_odds: [5, 15, 2], exp: 343, nekketu: 1250, yuujou: 100},
		{name: "ザ・グレイトホーン", drop_items: ["Ｇホーンウェア", "バファナシューズ", "バファナグローブ"], drop_odds: [15, 30, 20], exp: 364, nekketu: 1250, yuujou: 100},
		{name: "南米選抜", drop_items: ["ごくじょうのおでん", "守りのペンダント金", "ぞくせいきょうか　"], drop_odds: [40, 3, 3], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "アメリカ大陸選抜", drop_items: ["ごくじょうのおでん", "力のペンダント金", "オフェンスプラス"], drop_odds: [40, 3, 3], exp: 420, nekketu: 1250, yuujou: 100}
	],
	"ダイスケの超次元トーナメント - 下": [
		{name: "稲妻ＫＦＣ改", drop_items: ["ＫＦＣウェア", "守りのペンダント金", "古びたピンバッチ"], drop_odds: [30, 3, 5], exp: 245, nekketu: 1250, yuujou: 100},
		{name: "表と裏の王者", drop_items: ["ファングウェア", "ウエイクスパイク", "おいろけＵＰ！　"], drop_odds: [20, 30, 3], exp: 371, nekketu: 1250, yuujou: 100},
		{name: "ドッペルズ", drop_items: ["せんしのウェア", "ブレインスパイク", "クリティカル！"], drop_odds: [20, 30, 2], exp: 392, nekketu: 1250, yuujou: 100},
		{name: "ザ・ウッズ", drop_items: ["こわもてウェア", "力のペンダント金", "ネバーギブアップ"], drop_odds: [5, 3, 5], exp: 413, nekketu: 1250, yuujou: 100},
		{name: "ザ・マウンテンズ", drop_items: ["シンメトリウェア", "ザ・マウンテン", "イケイケ！"], drop_odds: [20, 15, 5], exp: 434, nekketu: 1250, yuujou: 100},
		{name: "ザ・キーパーズ", drop_items: ["スティンガー", "ムゲン・ザ・ハンド", "キーパープラス"], drop_odds: [35, 15, 3], exp: 350, nekketu: 1250, yuujou: 100},
		{name: "なりきり戦隊", drop_items: ["しんしのウェア", "守りのペンダント金", "イカサマ！"], drop_odds: [10, 3, 3], exp: 462, nekketu: 1250, yuujou: 100},
		{name: "ヤングイナズマ", drop_items: ["でんせつのウェア", "でんせつのスパイク", "でんせつのグローブ"], drop_odds: [5, 1, 8], exp: 490, nekketu: 1250, yuujou: 100}
	],
	"鬼瓦刑事の超次元トーナメント - 上": [
		{name: "ウラ・ライモン", drop_items: ["ゆうじょうのウェア", "サンダースパイク", "シュートフォース"], drop_odds: [15, 30, 1], exp: 315, nekketu: 1250, yuujou: 100},
		{name: "稲妻ＫＦＣ", drop_items: ["ＫＦＣウェア", "稲妻ＫＦＣスパイク", "稲妻ＫＦＣグローブ"], drop_odds: [30, 50, 35], exp: 336, nekketu: 1250, yuujou: 100},
		{name: "ＦＦ地区選抜Ａ", drop_items: ["ゆうじょうのウェア", "力のペンダント金", "ちょうわざ！"], drop_odds: [15, 3, 2], exp: 357, nekketu: 1250, yuujou: 100},
		{name: "ＦＦ全国選抜Ａ", drop_items: ["マーシャルウェア", "守りのペンダント金", "古びたピンバッチ"], drop_odds: [20, 3, 5], exp: 378, nekketu: 1250, yuujou: 100},
		{name: "一番街", drop_items: ["サリーズウェア", "サリーズシューズ", "サリーズグローブ"], drop_odds: [20, 50, 35], exp: 399, nekketu: 1250, yuujou: 100},
		{name: "全国チーム選抜Ａ", drop_items: ["ブイサインウェア", "力のペンダント金", "ディフェンスフォース"], drop_odds: [15, 3, 1], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "チーム西日本", drop_items: ["レトロウェア", "守りのペンダント金", "ザ・タイフーン"], drop_odds: [20, 3, 25], exp: 441, nekketu: 1250, yuujou: 100},
		{name: "イナズマ’０８", drop_items: ["タイトポップウェア", "サンダースパイク", "リカバリー"], drop_odds: [10, 30, 3], exp: 462, nekketu: 1250, yuujou: 100},
		{name: "日本代表候補Ａ", drop_items: ["スノーエンジェル", "いかりのてっつい", "ザ・タイフーン"], drop_odds: [25, 15, 25], exp: 483, nekketu: 1250, yuujou: 100},
		{name: "雷門ＯＢ", drop_items: ["とうこんのウェア", "イナズマスパイク", "イナズマグローブ"], drop_odds: [20, 1, 10], exp: 504, nekketu: 1250, yuujou: 100}
	],
	"鬼瓦刑事の超次元トーナメント - 下": [
		{name: "ベンチーズ１", drop_items: ["カミナリウェア", "グロウスパイク", "キーパープラス"], drop_odds: [15, 30, 3], exp: 245, nekketu: 1250, yuujou: 100},
		{name: "ベンチーズ２", drop_items: ["じゅんじょうウェア", "力のペンダント金", "おいろけＵＰ！　"], drop_odds: [5, 3, 3], exp: 252, nekketu: 1250, yuujou: 100},
		{name: "ベンチーズ３", drop_items: ["タイトポップウェア", "守りのペンダント金", "ラッキー！"], drop_odds: [10, 3, 3], exp: 259, nekketu: 1250, yuujou: 100},
		{name: "ベンチーズ４", drop_items: ["カミナリウェア", "力のペンダント金", "ネバーギブアップ"], drop_odds: [15, 3, 5], exp: 266, nekketu: 1250, yuujou: 100},
		{name: "○メガネ○Ａ", drop_items: ["テクノウェア", "ソウルシューズ", "やくびょうがみ"], drop_odds: [15, 30, 3], exp: 350, nekketu: 1250, yuujou: 100},
		{name: "キャッピキャピＢ", drop_items: ["がんじょうウェア", "守りのペンダント金", "がくしゅう"], drop_odds: [10, 3, 3], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "あやしいやつら", drop_items: ["カミナリウェア", "力のペンダント金", "古びたピンバッチ"], drop_odds: [15, 3, 5], exp: 315, nekketu: 1250, yuujou: 100},
		{name: "元祖・野球部", drop_items: ["ゼブラウェア", "守りのペンダント金", "こんしん！"], drop_odds: [20, 3, 3], exp: 427, nekketu: 1250, yuujou: 100},
		{name: "◇ＮＩＮＪＡ◇", drop_items: ["スポットウェア", "スピリットシューズ", "スピードフォース"], drop_odds: [5, 30, 1], exp: 455, nekketu: 1250, yuujou: 100}
	],
	"夕香の超次元トーナメント - 上": [
		{name: "スーパー秋葉名戸", drop_items: ["フロッグウェア", "力のペンダント金", "オフェンスフォース"], drop_odds: [15, 3, 1], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "チーム・マサト", drop_items: ["フューチャーウェア", "ソウルシューズ", "クリティカル！"], drop_odds: [15, 30, 2], exp: 308, nekketu: 1250, yuujou: 100},
		{name: "オールド木戸川", drop_items: ["しんしのウェア", "守りのペンダント金", "ばくねつストーム"], drop_odds: [10, 3, 2], exp: 336, nekketu: 1250, yuujou: 100},
		{name: "ザ・ファイアーズ", drop_items: ["ほのおのウェア", "ばくねつスクリュー", "イカサマ！"], drop_odds: [10, 25, 3], exp: 364, nekketu: 1250, yuujou: 100},
		{name: "留学チーム", drop_items: ["きぞくのウェア", "守りのペンダント金", "スピードフォース"], drop_odds: [20, 3, 1], exp: 392, nekketu: 1250, yuujou: 100},
		{name: "スピードスター", drop_items: ["ライダースウェア", "力のペンダント金", "スピードプラス"], drop_odds: [10, 3, 5], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "チャンピオン", drop_items: ["ブイサインウェア", "グロウスパイク", "オフェンスプラス"], drop_odds: [15, 30, 3], exp: 448, nekketu: 1250, yuujou: 100},
		{name: "ザ・ブロス", drop_items: ["スマートウェア", "力のペンダント金", "ちょうわざ！"], drop_odds: [5, 3, 3], exp: 476, nekketu: 1250, yuujou: 100},
		{name: "ザ・ディフェンズ", drop_items: ["スニーキングレイド", "しんくうま", "ザ・マウンテン"], drop_odds: [25, 25, 15], exp: 504, nekketu: 1250, yuujou: 100},
		{name: "ピエロチーム", drop_items: ["テクノウェア", "守りのペンダント金", "ディフェンスプラス"], drop_odds: [15, 3, 3], exp: 532, nekketu: 1250, yuujou: 100},
		{name: "真・パイレーツ", drop_items: ["スカルウェア", "ザ・タイフーン", "がくしゅう"], drop_odds: [5, 25, 3], exp: 560, nekketu: 1250, yuujou: 100}
	],
	"夕香の超次元トーナメント - 下": [
		{name: "ベンチーズ５", drop_items: ["ストライプウェア２", "力のペンダント金", "イケメンＵＰ！　"], drop_odds: [20, 3, 3], exp: 245, nekketu: 1250, yuujou: 100},
		{name: "ベンチーズ６", drop_items: ["セーラーウェア", "力のペンダント金", "むぞくせい　"], drop_odds: [5, 3, 3], exp: 266, nekketu: 1250, yuujou: 100},
		{name: "○メガネ○Ｂ", drop_items: ["ひらめきウェア", "守りのペンダント金", "古びたピンバッチ"], drop_odds: [15, 3, 5], exp: 315, nekketu: 1250, yuujou: 100},
		{name: "マスクマン", drop_items: ["じゅんじょうウェア", "力のペンダント金", "オフェンスフォース"], drop_odds: [5, 3, 1], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "フドウヘッズ", drop_items: ["スカルウェア", "守りのペンダント金", "イケメンＵＰ！　"], drop_odds: [5, 3, 3], exp: 350, nekketu: 1250, yuujou: 100},
		{name: "キュート★スターズ", drop_items: ["じゅんじょうウェア", "ローズスプラッシュ", "おいろけＵＰ！　"], drop_odds: [5, 35, 3], exp: 378, nekketu: 1250, yuujou: 100},
		{name: "絶・世路死苦", drop_items: ["こわもてウェア", "しんくうま", "むぞくせい　"], drop_odds: [5, 25, 3], exp: 392, nekketu: 1250, yuujou: 100},
		{name: "エル・マッチョス", drop_items: ["ごくあくウェア", "力のペンダント金", "みんなイケイケ！"], drop_odds: [20, 3, 1], exp: 406, nekketu: 1250, yuujou: 100},
		{name: "中国キッカーズ", drop_items: ["カンフーウェア", "守りのペンダント金", "こんしん！"], drop_odds: [20, 3, 3], exp: 420, nekketu: 1250, yuujou: 100}
	],
	"ドリーム超次元トーナメント - 上": [
		{name: "リアル・エイリア", drop_items: ["りゅうせいブレード", "スピリットシューズ", "ぞくせいきょうか　"], drop_odds: [15, 30, 3], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "影山オールスター", drop_items: ["スペースウェア", "力のペンダント金", "なまける"], drop_odds: [15, 3, 1], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "アナザーカオス", drop_items: ["ディフェンスプラス", "こんとんのスパイク", "時空のグローブ"], drop_odds: [3, 25, 20], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "天空の使徒", drop_items: ["ごくじょうのおでん", "てんくうのシューズ", "てんくうのグローブ"], drop_odds: [40, 20, 20], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "魔界軍団Ｚ", drop_items: ["ごくじょうのおでん", "まかいのスパイク", "まかいのグローブ"], drop_odds: [40, 20, 20], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "ダークエンジェル", drop_items: ["てんくうのウェア", "魔界軍団ウェア", "てんまのスパイク"], drop_odds: [10, 10, 5], exp: 490, nekketu: 1250, yuujou: 100}
	],
	"ドリーム超次元トーナメント - 下": [
		{name: "ダークエンペラーズ", drop_items: ["ダークＥウェア", "やみのシューズ", "うらぎりのグローブ"], drop_odds: [10, 2, 35], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "ピストンベリーズ", drop_items: ["ひらめきウェア", "ローズスプラッシュ", "シュートフォース"], drop_odds: [15, 35, 1], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "十二天王", drop_items: ["ライジングウェア", "力のペンダント金", "なまける"], drop_odds: [20, 3, 1], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "ザ・カード", drop_items: ["ザ・カードウェア", "カードチームグローブ", "セツヤク！"], drop_odds: [10, 20, 2], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "イナズマ’１０", drop_items: ["カミナリウェア", "ザ・ハリケーン", "ラッキー！"], drop_odds: [15, 15, 3], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "世界選抜", drop_items: ["ブイサインウェア", "ガンショット", "キーパープラス"], drop_odds: [15, 25, 3], exp: 385, nekketu: 1250, yuujou: 100}
	],
	"総一郎の超次元トーナメント - 上": [
		{name: "南米代表", drop_items: ["ごくじょうのおでん", "守りのペンダント金", "リカバリー"], drop_odds: [40, 3, 3], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "ローズグリフォン", drop_items: ["Ｒグリフォンウェア", "シャンパンシューズ", "シャンパングローブ"], drop_odds: [15, 30, 20], exp: 315, nekketu: 1250, yuujou: 100},
		{name: "レッドマタドール", drop_items: ["マタドールウェア", "アルマダスパイク", "アルマダグローブ"], drop_odds: [15, 30, 20], exp: 350, nekketu: 1250, yuujou: 100},
		{name: "ヨーロッパ代表", drop_items: ["マタドールフェイント", "スリングショット", "オフェンスフォース"], drop_odds: [25, 25, 1], exp: 385, nekketu: 1250, yuujou: 100},
		{name: "グループＢ選抜", drop_items: ["ごくじょうのおでん", "エッフェルドライブ", "Ｕ・ボート"], drop_odds: [40, 25, 25], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "アフリカ代表", drop_items: ["ごくじょうのおでん", "ライアーショット", "スピードプラス"], drop_odds: [40, 25, 5], exp: 455, nekketu: 1250, yuujou: 100},
		{name: "世界代表", drop_items: ["ブイサインウェア", "Ｕ・ボート", "タマシイ・ザ・ハンド"], drop_odds: [15, 25, 2], exp: 560, nekketu: 1250, yuujou: 100}
	],
	"総一郎の超次元トーナメント - 下": [
		{name: "ザ・フォワーズ", drop_items: ["ほのおのウェア", "エッフェルドライブ", "シュートフォース"], drop_odds: [10, 25, 1], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "スーパー大阪ＣＣＣ", drop_items: ["じゅんじょうウェア", "ローズスプラッシュ", "ディフェンスフォース"], drop_odds: [5, 35, 1], exp: 301, nekketu: 1250, yuujou: 100},
		{name: "チーム・カノン", drop_items: ["フューチャーウェア", "しんせだいシューズ", "じせだいグローブ"], drop_odds: [15, 40, 20], exp: 322, nekketu: 1250, yuujou: 100},
		{name: "タカビーズ", drop_items: ["セーラーウェア", "守りのペンダント金", "スピードフォース"], drop_odds: [10, 3, 1], exp: 350, nekketu: 1250, yuujou: 100},
		{name: "アダルトチーム", drop_items: ["せんしのウェア", "力のペンダント金", "ディフェンスプラス"], drop_odds: [20, 3, 3], exp: 371, nekketu: 1250, yuujou: 100},
		{name: "イナズマタウンズ", drop_items: ["れきせんのウェア", "守りのペンダント金", "ラッキー！"], drop_odds: [10, 3, 3], exp: 406, nekketu: 1250, yuujou: 100},
		{name: "アンダー１２", drop_items: ["タイトポップウェア", "コロドラシュート", "古びたピンバッチ"], drop_odds: [10, 35, 5], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "ザ・ウインディーズ", drop_items: ["ふうじんのまい", "スノーエンジェル", "クロスファイア"], drop_odds: [25, 25, 5], exp: 448, nekketu: 1250, yuujou: 100},
		{name: "ザ・ミッズ", drop_items: ["スティンガー", "ライアーショット", "ネバーギブアップ"], drop_odds: [35, 25, 5], exp: 469, nekketu: 1250, yuujou: 100},
		{name: "ゾディアックス", drop_items: ["いちばんぼしウェア", "力のペンダント金", "おいろけＵＰ！　"], drop_odds: [20, 3, 3], exp: 490, nekketu: 1250, yuujou: 100}
	],
	"瞳子の超次元トーナメント - 上": [
		{name: "ネオ帝国", drop_items: ["カミナリウェア", "ブレインスパイク", "ぞくせいきょうか　"], drop_odds: [15, 30, 3], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "警備マシンズ", drop_items: ["警備マシンズウェア", "しんくうのスパイク", "うらぎりのグローブ"], drop_odds: [10, 50, 35], exp: 301, nekketu: 1250, yuujou: 100},
		{name: "エイリアＡ", drop_items: ["げっこうのウェア", "力のペンダント金", "セツヤク！"], drop_odds: [20, 3, 3], exp: 322, nekketu: 1250, yuujou: 100},
		{name: "エイリアＢ", drop_items: ["げっこうのウェア", "守りのペンダント金", "シュートプラス"], drop_odds: [20, 3, 3], exp: 343, nekketu: 1250, yuujou: 100},
		{name: "神と宇宙", drop_items: ["スカルウェア", "守りのペンダント金", "がくしゅう"], drop_odds: [5, 3, 3], exp: 364, nekketu: 1250, yuujou: 100},
		{name: "樹海チーム", drop_items: ["メイズスパイク", "しんりんのグローブ", "古びたピンバッチ"], drop_odds: [2, 50, 8], exp: 385, nekketu: 1300, yuujou: 140},
		{name: "キャッピキャピＡ", drop_items: ["セーラーウェア", "力のペンダント金", "むぞくせい　"], drop_odds: [5, 3, 3], exp: 406, nekketu: 1250, yuujou: 100},
		{name: "リトルチーム", drop_items: ["ストライプウェア２", "コロドラシュート", "イケメンＵＰ！　"], drop_odds: [20, 35, 3], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "スーパーアニマルズ", drop_items: ["ゆうやけのウェア", "守りのペンダント金", "ディフェンスフォース"], drop_odds: [20, 3, 1], exp: 420, nekketu: 1250, yuujou: 100}
	],
	"瞳子の超次元トーナメント - 下": [
		{name: "ＦＦ地区選抜Ｂ", drop_items: ["スペースウェア", "力のペンダント金", "ちょうわざ！"], drop_odds: [15, 3, 3], exp: 280, nekketu: 1250, yuujou: 100},
		{name: "ＦＦ全国選抜Ｂ", drop_items: ["マーシャルウェア", "守りのペンダント金", "ぞくせいきょうか　"], drop_odds: [20, 3, 3], exp: 308, nekketu: 1250, yuujou: 100},
		{name: "ＳＰフィクサーズ", drop_items: ["ＳＰウェア", "セキュリティシューズ", "てっぺきのグローブ"], drop_odds: [15, 50, 35], exp: 336, nekketu: 1250, yuujou: 100},
		{name: "全国チーム選抜Ｂ", drop_items: ["ブイサインウェア", "ウエイクスパイク", "オフェンスプラス"], drop_odds: [10, 30, 3], exp: 364, nekketu: 1250, yuujou: 100},
		{name: "チーム東日本", drop_items: ["シェイパブルウェア", "力のペンダント金", "ちょうわざ！"], drop_odds: [20, 3, 2], exp: 392, nekketu: 1250, yuujou: 100},
		{name: "大阪ギャルズ", drop_items: ["大阪ギャルズウェア", "ナニワのスパイク", "おとめのグローブ"], drop_odds: [15, 50, 35], exp: 420, nekketu: 1250, yuujou: 100},
		{name: "イナズマ’０９", drop_items: ["マルチユーズウェア", "守りのペンダント金", "リカバリー"], drop_odds: [20, 3, 3], exp: 448, nekketu: 1250, yuujou: 100},
		{name: "日本代表候補Ｂ", drop_items: ["ふうじんのまい", "ムゲン・ザ・ハンド", "ばくねつスクリュー"], drop_odds: [25, 15, 25], exp: 476, nekketu: 1250, yuujou: 100},
		{name: "ファースト雷門", drop_items: ["ザ・ハリケーン", "ふうじんのまい", "ばくねつストーム"], drop_odds: [15, 25, 15], exp: 504, nekketu: 1250, yuujou: 100}
	]
};

var addEvent =
 window.addEventListener ? function(e, n, f) { e.addEventListener(n, f, false); }
                         : function(e, n, f) { e.attachEvent("on" + n, f); };

addEvent(window, "load", function() {
	init_binder_seed_verify_form();
	init_goal_seed_verify_form();
	init_drop_search_form();
	init_goal_list_form();
});

var SETTING_METHOD = {
	"binder": {before_advancement: 1,
	           first_advancement: 1},
	"goal":   {before_advancement: 0,
	           first_advancement: 0}
};

function init_binder_seed_verify_form() {
	var form = document.forms.binder_seed_verify;
	add_submit_and_delete_event(form, on_submit_binder_seed_verify, "binder-verify-result");
	add_filter_length_info(form.filter);
}

function on_submit_binder_seed_verify(f) {
	var result_area = document.getElementById("binder-verify-result");
	
	var fseed_base = read_input(f.fseed_base, "初期seedの範囲");
	var fseed_gosa = read_input(f.fseed_gosa, "初期seedの範囲");
	var advancement_min = read_input(f.advancement_min, "消費の範囲");
	var advancement_max = read_input(f.advancement_max, "消費の範囲");
	var filter = read_filter(f.filter.value);
	
	var fseed_min = fseed_base - fseed_gosa;
	var fseed_max = fseed_base + fseed_gosa;
	
	build_result_verify(fseed_min, fseed_max, advancement_min, advancement_max, filter, result_area, "binder");
}

function init_goal_seed_verify_form() {
	var form = document.forms.goal_seed_verify;
	add_submit_and_delete_event(form, on_submit_goal_seed_verify, "goal-verify-result");
	add_filter_length_info(form.filter);
}

function on_submit_goal_seed_verify(f) {
	var result_area = document.getElementById("goal-verify-result");
	
	var fseed = read_input(f.fseed, "初期seed");
	var advancement_min = read_input(f.advancement_min, "消費の範囲");
	var advancement_max = read_input(f.advancement_max, "消費の範囲");
	var filter = read_filter(f.filter.value);
	
	build_result_verify(fseed, fseed, advancement_min, advancement_max, filter, result_area, "goal");
}

function build_result_verify(fseed_min, fseed_max, advancement_min, advancement_max, filter, result_area, method) {
	var method_setting = SETTING_METHOD[method];
	var prng = new PRNG(0, 0);
	var buf = "";
	buf += "<table>";
	buf += "<tr><th>初期seed<th>消費<th>合計消費";
	var result = [];
	
	for (var fseed = fseed_min; fseed <= fseed_max; fseed ++) {
		prng.set_seed(0, u32(fseed));
		
		var advancement = advancement_min;
		prng.step(advancement);
		for (; advancement <= advancement_max; advancement ++) {
			var r = judge_seed_verify(method_setting, prng.seed, filter);
			if (r !== null) {
				buf += "<tr><td>"+format_hex(fseed, 8)+"<td>"+advancement+"<td>"+(advancement+r)+"<br>";
				result.push({fseed: fseed, advancement: advancement, advancement_after: advancement+r});
			}
			prng.step(1);
		}
	}
	buf += "</table>";
	if (result.length === 1) {
		if (method === "goal") {
			buf += '<input id="auto-submit-button" type="button" value="この結果を下二つのフォームに入力">';
		} else {
			buf += '<input id="auto-input-seed-button" type="button" value="この初期seedを下全てのフォームに入力">';
		}
	}
	result_area.innerHTML = buf;
	
	var button = document.getElementById("auto-submit-button");
	if (button) {
		addEvent(button, "click", func_bind_args(auto_submit, [result[0]]));
	}
	
	var button = document.getElementById("auto-input-seed-button");
	if (button) {
		addEvent(button, "click", func_bind_args(auto_input_seed, [result[0]]));
	}
}

function auto_submit(result) {
	var drop_search_form = document.forms.drop_search;
	var goal_list_form = document.forms.goal_list;
	
	drop_search_form.fseed.value = format_hex(result.fseed, 8);
	var advancements;
	try {
		advancements = on_submit_drop_search(drop_search_form);
	} catch(e) {
		if (!(e instanceof InputError)) throw e;
	}
	
	var current_advancement = result.advancement_after;
	var target_advancement = null;
	if (advancements) {
		for (var i = 0; i < advancements.length; i ++) {
			if (current_advancement <= advancements[i]) {
				target_advancement = advancements[i];
				break;
			}
		}
	}
	
	goal_list_form.fseed.value = format_hex(result.fseed, 8);
	goal_list_form.head_advancement.value = result.advancement;
	goal_list_form.current_advancement.value = current_advancement;
	if (target_advancement !== null) {
		goal_list_form.target_advancement.value = target_advancement;
		on_submit_goal_list(goal_list_form);
	}
}

function auto_input_seed(result) {
	var goal_seed_verify_form = document.forms.goal_seed_verify;
	var drop_search_form = document.forms.drop_search;
	var goal_list_form = document.forms.goal_list;
	
	var fseed = result.fseed;
	var advancement_min = result.advancement_after;
	var advancement_max = (advancement_min + 1000);
	advancement_max = advancement_max - advancement_max % 1000;
	
	goal_seed_verify_form.fseed.value = format_hex(fseed, 8);
	drop_search_form.fseed.value = format_hex(fseed, 8);
	goal_list_form.fseed.value = format_hex(fseed, 8);
	
	
	goal_seed_verify_form.advancement_min.value = advancement_min;
	goal_seed_verify_form.advancement_max.value = advancement_max;
	
	drop_search_form.advancement_min.value = advancement_min;
	drop_search_form.advancement_max.value = advancement_max;
}

function judge_seed_verify(setting, seed, filter) {
	var prng = new PRNG(seed.high, seed.row);
	prng.step(setting.first_advancement);
	for (var i = 0; i < filter.length; i ++) {
		prng.step(setting.before_advancement);
		if (prng.rand(2) !== filter[i]) {
			return null;
		}
	}
	return prng.advancement;
}

function add_filter_length_info(input) {
	var span = input.parentNode.insertBefore(document.createElement("span"), input.nextSibling);
	addEvent(input, "keyup", function() {
		var m = input.value.match(/\d/g);
		span.innerHTML = m ? " (" + m.length + ")" : "";
	});
}

function init_drop_search_form() {
	var form = document.forms.drop_search;
	add_submit_and_delete_event(form, on_submit_drop_search, "drop-search-result");
	init_team_select();
}

function init_team_select() {
	var form = document.forms.drop_search;
	var area = document.getElementById("team-select-area");
	var data = PRACTICE_GAME_DATA;
	var buf = "";
	buf += "チーム選択: <select>";
	buf += "<option>";
	for (var title in data) {
		buf += '<optgroup label="'+title+'">';
		var l = data[title];
		for (var i = 0; i < l.length; i ++) {
			var name = l[i].name, items = l[i].drop_items;
			buf += '<option value="'+title+'/'+i+'">'+name+" ("+items.join(", ")+")";
		}
		buf += "</optgroup>";
	}
	buf += "</select>";
	area.innerHTML = buf;
	var select = area.getElementsByTagName("select")[0];
	addEvent(select, "change", on_change_select);
	addEvent(select, "keypress", on_change_select);
	
	function on_change_select(ev) {
		if (ev.type == "keypress" && ev.keyCode == 9) { // KeyEvent.DOM_VK_TAB
			return;
		}
		var option = select[select.selectedIndex];
		var m = /^([^\/]+)\/(.+)$/.exec(option.value);
		if (!m) return;
		var title = m[1], num = Number(m[2]);
		var e = data[title][num];
		for (var i = 0; i < 3; i ++) {
			form["item"+i].value = e.drop_items[i];
			form["odd"+i].value = e.drop_odds[i];
		}
		form.exp_base.value = [e.exp, e.nekketu, e.yuujou].join(",");
	}
}


function on_submit_drop_search(f) {
	var fseed = u32(read_input(f.fseed, "初期seed"));
	var advancement_min = read_input(f.advancement_min, "消費の範囲");
	var advancement_max = read_input(f.advancement_max, "消費の範囲");
	var drops = [];
	for (var i = 0; i < 3; i ++) {
		var enabled = f["check"+i].checked;
		var item_name = f["item"+i].value;
		var odd = read_input(f["odd"+i], "確率");
		drops[i] = {enabled: enabled, item_name: item_name, odd: odd};
	}
	
	var exp_base = read_exp_base(f.exp_base.value);
	var before_advancement = f.check_count_before_advancement.checked ? 2 : 0;
	
	var buf = "<table><tr><th>消費";
	for (var i = 0; i < 3; i ++) {
		buf += "<th>"+drops[i].item_name;
	}
	buf += "<th>経験値<th>熱血<th>友情";
	var result = [];
	
	var prng = new PRNG(0, fseed);
	var advancement = advancement_min;
	prng.step(advancement);
	for (; advancement <= advancement_max; advancement ++) {
		var r = judge_seed_drop_search(prng.seed, drops, before_advancement);
		if (r) {
			buf += "<tr><td>" + advancement;
			for (var i = 0; i < 3; i ++) {
				buf += "<td>"+(r[i] ? drops[i].item_name : "-");
			}
			var e = calc_exp_and_money(prng.seed, exp_base, before_advancement);
			buf += "<td>"+e.exp+"<td>"+e.nekketu+"<td>"+e.yuujou;
			result.push(advancement);
		}
		prng.step(1);
	}
	document.getElementById("drop-search-result").innerHTML = buf;
	return result;
}

function judge_seed_drop_search(seed, drops, before_advancement) {
	var prng = new PRNG(seed.high, seed.row);
	prng.step(before_advancement + 1);
	var result = [];
	for (var i = 0; i < 3; i ++) {
		var dropped = (prng.rand(100) < drops[i].odd);
		if (!dropped && drops[i].enabled) {
			return false;
		}
		result[i] = dropped;
	}
	return result;
}

function calc_exp_and_money(seed, base, before_advancement) {
	var prng = new PRNG(seed.high, seed.row);
	prng.step(before_advancement);
	var exp = to_uneven(prng, base[0]);
	prng.step(3);
	var nekketu = to_uneven(prng, base[1]);
	var yuujou = to_uneven(prng, base[2]);
	
	return {exp: exp, nekketu: nekketu, yuujou: yuujou};
}

function read_exp_base(str) {
	if (/^\d+,\d+,\d+$/.test(str)) {
		return array_map(str.match(/\d+/g), Number);
	} else {
		input_error("基本となる値が不正です");
	}
}

function to_uneven(prng, x) {
	return Math.floor((x * 9 + prng.rand(x * 2)) / 10);
}

function init_goal_list_form() {
	var form = document.forms.goal_list;
	add_submit_and_delete_event(form, on_submit_goal_list, "goal-list-result");
}

function on_submit_goal_list(f) {
	var fseed = u32(read_input(f.fseed, "初期seed"));
	var head_advancement = read_input(f.head_advancement, "先頭消費");
	var current_advancement = read_input(f.current_advancement, "現在消費");
	var target_advancement = read_input(f.target_advancement, "目標消費");
	
	var buf = "";
	buf += '<table class="for-layout"><tr><td>';
	buf += '<table id="table-goal-list"><thead><tr><th>消費<th>値</thead><tbody>';
	
	var prng = new PRNG(0, fseed);
	var last_advancement = target_advancement + 3;
	var advancement = head_advancement;
	prng.step(advancement);
	for (; advancement <= last_advancement; advancement ++) {
		var className = "note";
		if (advancement === target_advancement - 1) {
			className += " note_hr";
		}
		var tr_className = advancement < current_advancement || advancement >= target_advancement ? "unimportant" : "";
		buf += '<tr class="'+tr_className+'"><td>'+advancement+"<td>"+prng.rand(2)+'<td class="'+className+'">';
	}
	buf += "</table>";
	buf += '<td style="line-height: 1.6"><input id="goal_list_next_button" type="button" value="次へ"><br>';
	buf += '現在消費: <span id="goal_list_current_advancement"></span><br>残り消費: <span id="goal_list_remaining"></span>';
	buf += "</tbody></table>";
	document.getElementById("goal-list-result").innerHTML = buf;
	update_advancement();
	
	addEvent(document.getElementById("goal_list_next_button"), "click", function() {
		if (current_advancement < target_advancement) {
			current_advancement ++;
			update_advancement();
		}
	});
	
	function update_advancement() {
		var td = get_td_by_advancement(current_advancement - 2);
		if (td) {
			td.innerHTML = "";
			removeClass(td, "note_hr");
		}
		var td = get_td_by_advancement(current_advancement - 1);
		if (td) {
			td.innerHTML = "↑ここまで消費した";
			addClass(td, "note_hr");
			addClass(td.parentNode, "unimportant");
		}
		document.getElementById("goal_list_current_advancement").innerHTML = current_advancement;
		document.getElementById("goal_list_remaining").innerHTML = target_advancement - current_advancement;
	}
	
	function get_td_by_advancement(n) {
		var tbody = document.getElementById("table-goal-list").getElementsByTagName("tbody")[0];
		if (head_advancement <= n && n <= last_advancement) {
			return tbody.childNodes[n - head_advancement].lastChild;
		} else {
			return null;
		}
	}
}

function add_submit_and_delete_event(form, on_submit, result_area_id) {
	addEvent(form, "submit", submit_callback(on_submit));
	addEvent(form.delete_button, "click", function() {
		document.getElementById(result_area_id).innerHTML = "";
	});
}

function submit_callback(fn) {
	return function(ev) {
		try {
			fn(get_event_target(ev));
		} catch(e) {
			if (!(e instanceof InputError)) throw e;
			alert(e.message);
		}
	}
}

function read_filter(str) {
	var result = [];
	for (var i = 0; i < str.length; i ++) {
		if (/\d/.test(str.charAt(i))) {
			result.push(Number(str.charAt(i)));
		}
	}
	return result;
}

function read_input(input, name, min, max) {
	var value = read_int_string(input.value);
	if (min == undefined) min = -Infinity;
	if (max == undefined) max =  Infinity;
	if (value !== null && min <= value && value <= max) {
		return value;
	} else {
		input_error(name+"に入力されている値が不正です");
	}
}

function read_int_string(s, default_value) {
	if (/^\s*$/.test(s) && default_value !== undefined) {
		return default_value;
	}
	if (!/^\s*(?:-?\d+|0x[0-9a-f]+)\s*$/i.test(s)) {
		return null;
	}
	return Number(s);
}

function input_error(message) {
	throw new InputError(message);
}

function InputError(message) {
	this.message = message;
}



function get_checked_radio_value(radios) {
	var index = get_checked_radio_index(radios);
	if (index === null) return null;
	return radios[index].value;
}

function get_checked_radio_index(radios) {
	for (var i = 0; i < radios.length; i ++) {
		if (radios[i].checked) return i;
	}
	return null;
}

function get_event_target(event) {
	return event.target || event.srcElement;
}

function hasClass(e, className) {
	var s = e.className;
	if (s === className) return true;
	if (!/\s/.test(s)) return false;
	var classes = s.split(/\s+/);
	for (var i = 0, l = classes.length; i < l; i ++) {
		if (classes[i] === className) {
			return true;
		}
	}
	return false;
}

function addClass(e, className) {
	if (e.className === "") {
		e.className = className;
		return;
	}
	if (!hasClass(e, className)) {
		e.className += " " + className;
	}
}

function removeClass(e, className) {
	var s = e.className;
	if (s === className) {
		e.className = "";
		return;
	}
	if (!/\s/.test(s)) return;
	var classes = s.split(/\s+/);
	var index = -1;
	for (var i = 0, l = classes.length; i < l; i ++) {
		if (classes[i] === className) {
			index = i;
			break;
		}
	}
	if (index >= 0) {
		classes.splice(index, 1);
		e.className = classes.join(" ");
	}
}

function format_hex(n, prec) {
	var s = n.toString(16);
	return "0x" + (str_repeat("0", prec - s.length) + s);
}

function str_repeat(s, n) {
	var r = "";
	for (var i = 0; i < n; i ++) {
		r += s;
	}
	return r;
}

function func_bind_args(fn, args) {
	return function() {
		return fn.apply(this, args);
	};
}

function array_map(array, fn) {
	var len = array.length;
	var result = new Array(len);
	for (var i = 0; i < len; i ++) {
		result[i] = fn(array[i]);
	}
	return result;
}

function PRNG(high, row) {
	this.seed = new MutableUint64(high, row);
	this.advancement = 0;
}

PRNG.A_HIGH = 0x5d588b65, PRNG.A_ROW = 0x6c078965;
PRNG.B_HIGH = 0x00000000, PRNG.B_ROW = 0x00269ec3;

PRNG.prototype.set_seed = function(high, row) {
	this.seed.high = high;
	this.seed.row = row;
	this.advancement = 0;
}

PRNG.prototype.rand = function(max) {
	this.seed.mul(PRNG.A_HIGH, PRNG.A_ROW);
	this.seed.add(PRNG.B_HIGH, PRNG.B_ROW);
	this.advancement ++;
	
	var tmp = new MutableUint64(0, 0);
	tmp.set(0, this.seed.high);
	tmp.mul(0, max);
	return tmp.high;
};

PRNG.prototype.step = function(num) {
	var a = new MutableUint64(PRNG.A_HIGH, PRNG.A_ROW);
	var b = new MutableUint64(PRNG.B_HIGH, PRNG.B_ROW);
	var n = num;
	while (true) {
		if (n & 1) {
			this.seed.mul(a.high, a.row);
			this.seed.add(b.high, b.row);
		}
		n >>>= 1;
		if (n === 0) break;
		
		var b_high = b.high, b_row = b.row;
		b.mul(a.high, a.row);
		b.add(b_high, b_row);
		
		a.mul(a.high, a.row);
	}
	this.advancement += num;
};


function MutableUint64(high, row) {
	this.high = high;
	this.row = row;
}

MutableUint64.prototype.set = function(high, row) {
	this.high = high;
	this.row = row;
}

MutableUint64.prototype.add = function(o_high, o_row) {
	var row = this.row + o_row;
	var carry = row > 0xffffffff;
	this.row = u32(row);
	this.high = u32(this.high + o_high + (carry ? 1 : 0));
	return this;
};

MutableUint64.prototype.add_shift = function(other, shift) {
	var row, high;
	if (shift < 32) {
		row = u32(other << shift);
		high = shift == 0 ? 0 : other >>> (32 - shift);
	} else {
		row = 0;
		high = u32(other << (shift - 32));
	}
	this.add(high, row);
};

MutableUint64.prototype.mul = function(o_high, o_row) {
	var a = this.high >>> 16, b = this.high & 0xffff, c = this.row >>> 16, d = this.row & 0xffff;
	var e =    o_high >>> 16, f =    o_high & 0xffff, g =    o_row >>> 16, h =    o_row & 0xffff;
	
	this.high = this.row = 0;
	
	this.add_shift(h * d,  0);
	this.add_shift(h * c, 16);
	this.add_shift(h * b, 32);
	this.add_shift(h * a, 48);
	
	this.add_shift(g * d, 16);
	this.add_shift(g * c, 32);
	this.add_shift(g * b, 48);
	
	this.add_shift(f * d, 32);
	this.add_shift(f * c, 48);
	
	this.add_shift(e * d, 48);
	return this;
};

function u32(x) {
	return x >>> 0;
}
</script>
<style type="text/css">
form {
}

table {
	border-collapse: collapse;
	font-size: 80%;
	margin: 1em 0;
}
th, td {
	padding: 0.1em 5px;
	border: 1px solid black;
}

tr.unimportant {
	background-color: #ccc;
}

td.note {
	border: 1px solid transparent;
}

td.note_hr {
	border-bottom-color:black;
}

td.seed {
	font-family: monospace;
}

form table {
	font-size: 100%;
	margin: 0;
}

form th {
	text-align: right;
}

form th,
form td {
	border: none;
}

table.for-layout {
	font-size: 100%;
	margin: 0;
	padding: 0;
}

table.for-layout > * > tr > th,
table.for-layout > * > tr > td {
	border: none;
	margin: 0;
	vertical-align: top;
}

small input {
	font-size: 80%;
}
</style>
</head>
<body>
<h1>イナズマ3 アイテムドロップ乱数調整ツール</h1>
<h2>選手バインダーでseed確認</h2>
<table class="for-layout">
<tr><td>
<form action="" name="binder_seed_verify" onsubmit="return false;" autocomplete="off">
<table>
<tr><th>初期seedの範囲:<td><input type="text" size="20" name="fseed_base" value="0x00000100">±<input type="text" size="6" name="fseed_gosa" value="20">
<tr><th>消費の範囲:<td><input type="text" size="6" name="advancement_min" value="10"> ～ <input type="text" size="6" name="advancement_max" value="30">
<tr><th>フィルター:<td><input type="text" size="50" name="filter" value="">
<tr><td><td><input type="submit" value="決定"> <input type="button" name="delete_button" value="結果を消す">
</table>
</form>
<td>
0: 靴とんとん<br>
1: 頭をかく
</table>
<div id="binder-verify-result"></div>

<h2>ゴールのモーションで消費確認</h2>
<table class="for-layout">
<tr><td>
<form action="" name="goal_seed_verify" onsubmit="return false;" autocomplete="off">
<table>
<tr><th>初期seed:<td><input type="text" size="20" name="fseed" value="0x0000010c">
<tr><th>消費の範囲:<td><input type="text" size="6" name="advancement_min" value="10"> ～ <input type="text" size="6" name="advancement_max" value="1000">
<tr><th>フィルター:<td><input type="text" size="50" name="filter" value="">
<tr><td><td><input type="submit" value="決定"> <input type="button" name="delete_button" value="結果を消す">
</table>
</form>
<td>
0: (→)<br>
1: (←)
</table>
<div id="goal-verify-result"></div>


<h2>ドロップできる消費を探す</h2>
<form action="" name="drop_search" onsubmit="return false;" autocomplete="off">
<table>
<tr><th>初期seed:<td><input type="text" size="20" name="fseed" value="0x0000010c">
<tr><th>消費の範囲:<td><input type="text" size="6" name="advancement_min" value="10"> ～ <input type="text" size="6" name="advancement_max" value="1000">
<tr><th>ドロップ:<td>
<span id="team-select-area"></span><br>
ドロップしたいアイテムにチェック<br>
<input type="checkbox" name="check0"> <input type="text" size="20" name="item0" value=""> <input type="text" size="4" name="odd0" value=""> %<br>
<input type="checkbox" name="check1"> <input type="text" size="20" name="item1" value=""> <input type="text" size="4" name="odd1" value=""> %<br>
<input type="checkbox" name="check2"> <input type="text" size="20" name="item2" value=""> <input type="text" size="4" name="odd2" value=""> %<br>
<small>基本となる値: <input type="text" size="20" name="exp_base" value=""> (経験値,熱血,友情)</small>
<tr><th>オプション:
<td>
<label><input type="checkbox" name="check_count_before_advancement" checked>試合終了時のセリフ決定の2消費を考慮する</label>
<tr><td><td><input type="submit" value="決定"> <input type="button" name="delete_button" value="結果を消す">
</table>
</form>
<div id="drop-search-result"></div>

<h2>ゴールのモーションでリスト作成</h2>
<form action="" name="goal_list" onsubmit="return false;" autocomplete="off">
<table>
<tr><th>初期seed:<td><input type="text" size="20" name="fseed" value="0x0000010c">
<tr><th>先頭消費:<td><input type="text" size="6" name="head_advancement" value="">
<tr><th>現在消費:<td><input type="text" size="6" name="current_advancement" value="">
<tr><th>目標消費:<td><input type="text" size="6" name="target_advancement" value="">
<tr><td><td><input type="submit" value="決定"> <input type="button" name="delete_button" value="結果を消す">
</table>
</form>
<div id="goal-list-result"></div>

<h2>使い方</h2>
<ol>
<li>リセット
<li>「選手バインダーでseed確認」で初期seed確認 (初期seedはほぼ一定なので0x00000100±20のままでOK)
<li>普通に対戦をする
<li>試合終了直前に必殺技でゴールを決める
<li>リプレイ時のゴールが入ったときのモーションで「ゴールのモーションで消費確認」を使って現在消費を確認
<li>「ドロップできる消費を探す」で目標消費を決める
<li>「ゴールのモーションでリスト作成」でリプレイを再生して目標消費まで進める
<li>試合再開。コマンドバトルなど乱数が消費される要素が発生しないように注意して、試合終了を待つ
</ol>

<h3>消費のTips</h3>
<p>何十回もリプレイを再生するのは大変なのでうまく消費を調整する方法を考えてみる
<ul>
<li>タイトル画面では時間経過で勝手に乱数が消費されていく
<ul><li>だいたい1秒間に30くらい消費される。ただし「つづきから」を選んだ後の画面では消費されない。3つのアイテム全部ドロップさせるとかで数千とか消費させる必要がある場合はタイトル画面でしばらく待ってあらかじめある程度消費させておくとよいかも
</ul>
<li>戦闘中の消費
<ul>
<li>後半の途中で現在の消費を確認して、目標が遠い場合はこれを使って消費を進ませるとよいかも
<li>ファールやオフサイド、ボールがタッチラインの外に出たときなど、キックオフとコーナーキック以外で「選手の位置をかえられます」状態になると50くらい消費される
<li>必殺タクティクスが発動したとき、両方タクティクスを発動した場合は22、そうでなければ11消費
</ul>
</ul>

</body>
</html>
